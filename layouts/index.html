{{ define "main" }}

<!-- Hero Carousel -->
<section class="hero-carousel" id="hero-carousel">
  <div class="carousel-container">
    <div class="carousel-track">
      {{ range .Params.carousel }}
      <div class="carousel-slide">
        <picture>
          <source srcset="{{ .image }}.webp" type="image/webp">
          <img src="{{ .image }}.jpg" alt="{{ .alt }}" loading="eager" width="1920" height="800">
        </picture>
      </div>
      {{ end }}
    </div>
    <button class="carousel-btn carousel-btn-prev" aria-label="Previous">&#10094;</button>
    <button class="carousel-btn carousel-btn-next" aria-label="Next">&#10095;</button>
    <div class="carousel-dots">
      {{ range $i, $slide := .Params.carousel }}
      <span class="carousel-dot {{ if eq $i 0 }}active{{ end }}" data-index="{{ $i }}"></span>
      {{ end }}
    </div>
  </div>
</section>

<!-- Tagline -->
<section class="tagline-section">
  <div class="container">
    <h1 class="tagline">{{ i18n "hero_tagline" }}</h1>
    <p class="tagline-sub">{{ i18n "hero_subtitle" }}</p>
  </div>
</section>

<!-- Rent Section -->
<section class="rent-section" id="alquiler">
  <div class="container">
    <div class="section-header">
      <h2>{{ i18n "rent_title" }}</h2>
      <p class="section-subtitle">{{ i18n "rent_subtitle" }}</p>
    </div>
    <div class="houses-grid">
      {{ range .Params.houses }}
      <div class="house-card">
        <a href="{{ .airbnb }}" target="_blank" rel="noopener" class="house-card-image">
          <picture>
            <source srcset="{{ .image }}.webp" type="image/webp">
            <img src="{{ .image }}.jpg" alt="{{ .name }}" loading="lazy" width="800" height="533">
          </picture>
        </a>
        {{ if .airbnb }}<a href="{{ .airbnb }}" target="_blank" rel="noopener" class="house-more-info">{{ i18n "more_info" }} &rarr;</a>{{ end }}
        <div class="house-card-body">
          <h3>{{ .name }}</h3>
          <p class="house-description">{{ .description }}</p>
          <div class="house-features">
            {{ if .guests }}<span class="feature"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg> {{ .guests }} {{ i18n "guests" }}</span>{{ end }}
            {{ if .bedrooms }}<span class="feature"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 7v11m0-4h18m0 4V8a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2"/><path d="M7 11V7h4v4m2 0V7h4v4"/></svg> {{ .bedrooms }} {{ i18n "bedrooms" }}</span>{{ end }}
            {{ if .beds }}<span class="feature"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 4v16"/><path d="M2 8h18a2 2 0 0 1 2 2v10"/><path d="M2 17h20"/><path d="M6 8v9"/></svg> {{ .beds }} {{ i18n "beds" }}</span>{{ end }}
            {{ if .bathrooms }}<span class="feature"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 12h16M4 12v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-6M6 12V5a2 2 0 0 1 2-2h1"/></svg> {{ .bathrooms }} {{ i18n "bathrooms" }}</span>{{ end }}
          </div>
          {{ if or .host .phone .email }}
          <div class="house-contact">
            {{ if .host }}<span class="contact-host"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg> {{ i18n "host" }}: {{ .host }}</span>{{ end }}
            <div class="contact-links">
              {{ if .phone }}<a href="https://wa.me/{{ replaceRE `[^0-9+]` `` .phone }}" target="_blank" rel="noopener" class="contact-link whatsapp-link" title="WhatsApp"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 0 1-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 0 1-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 0 1 2.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0 0 12.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 0 0 5.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 0 0-3.48-8.413z"/></svg><span class="contact-text">{{ .phone }}</span></a>{{ end }}
              {{ if .email }}<a href="mailto:{{ .email }}" class="contact-link email-link" title="Email"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M22 4l-10 8L2 4"/></svg><span class="contact-text">{{ .email }}</span></a>{{ end }}
            </div>
          </div>
          {{ end }}
        </div>
      </div>
      {{ end }}
    </div>
  </div>
</section>

<!-- Activities Section -->
<section class="amenities-section" id="amenidades">
  <div class="container">
    <div class="section-header">
      <h2>{{ i18n "amenities_title" }}</h2>
      <p class="section-subtitle">{{ i18n "amenities_subtitle" }}</p>
    </div>
    {{ range $i, $amenity := .Params.amenities }}
    <div class="amenity-row {{ if (modBool $i 2) }}amenity-row-reverse{{ end }}">
      <div class="amenity-image">
        <img src="{{ $amenity.image }}" alt="{{ $amenity.title }}" loading="lazy">
      </div>
      <div class="amenity-content">
        <h3>{{ $amenity.title }}</h3>
        <p>{{ $amenity.description }}</p>
      </div>
    </div>
    {{ end }}
  </div>
</section>

<!-- Sales Section -->
<section class="sales-section" id="ventas">
  <div class="container">
    <div class="section-header">
      <h2>{{ i18n "sales_title" }}</h2>
      <p class="section-subtitle">{{ i18n "sales_subtitle" }}</p>
    </div>

    <div class="sales-layout">
      <!-- Master Plan Image -->
      <div class="master-plan">
        <picture>
          <source srcset="/images/planogeneral.webp" type="image/webp">
          <img src="/images/planogeneral.jpg" alt="Casas de Playa - {{ i18n "sales_title" }}" loading="lazy">
        </picture>
      </div>

      <!-- Lots List -->
      <div class="lots-list">
        {{ range .Params.lots }}
        <div class="lot-row">
          <div class="lot-number">{{ i18n "lot" }} #{{ .number }}</div>
          <div class="lot-info">
            <span class="lot-price">USD {{ .price }}</span>
            {{ if .phone }}<a href="https://wa.me/{{ replaceRE `[^0-9+]` `` .phone }}" target="_blank" rel="noopener" class="lot-phone" title="WhatsApp"><svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 0 1-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 0 1-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 0 1 2.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0 0 12.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 0 0 5.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 0 0-3.48-8.413z"/></svg> {{ .phone }}</a>{{ end }}
          </div>
        </div>
        {{ end }}
      </div>
    </div>
  </div>
</section>

<!-- La Pedrera Section -->
<section class="lapedrera-section" id="lapedrera">
  <div class="container">
    <div class="section-header">
      <h2>{{ i18n "lapedrera_title" }}</h2>
      <p class="section-subtitle">{{ i18n "lapedrera_subtitle" }}</p>
    </div>

    {{ if .Params.restaurants }}
    <div class="lp-subsection">
      <h3>{{ i18n "restaurants" }}</h3>
      <div class="lp-grid">
        {{ range .Params.restaurants }}
        <div class="lp-card">
          <div class="lp-card-body">
            <h4>{{ if .website }}<a href="{{ .website }}" target="_blank" rel="noopener">{{ .name }}</a>{{ else }}{{ .name }}{{ end }}</h4>
            <p>{{ .description }}</p>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
    {{ end }}

    {{ if .Params.bakeries }}
    <div class="lp-subsection">
      <h3>{{ i18n "bakeries" }}</h3>
      <div class="lp-grid">
        {{ range .Params.bakeries }}
        <div class="lp-card">
          <div class="lp-card-body">
            <h4>{{ if .website }}<a href="{{ .website }}" target="_blank" rel="noopener">{{ .name }}</a>{{ else }}{{ .name }}{{ end }}</h4>
            <p>{{ .description }}</p>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
    {{ end }}

    {{ if .Params.supermarkets }}
    <div class="lp-subsection">
      <h3>{{ i18n "supermarkets" }}</h3>
      <div class="lp-grid">
        {{ range .Params.supermarkets }}
        <div class="lp-card">
          <div class="lp-card-body">
            <h4>{{ if .website }}<a href="{{ .website }}" target="_blank" rel="noopener">{{ .name }}</a>{{ else }}{{ .name }}{{ end }}</h4>
            <p>{{ .description }}</p>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
    {{ end }}

    {{ if .Params.other }}
    <div class="lp-subsection">
      <h3>{{ i18n "other_services" }}</h3>
      <div class="lp-grid">
        {{ range .Params.other }}
        <div class="lp-card">
          <div class="lp-card-body">
            <h4>{{ if .website }}<a href="{{ .website }}" target="_blank" rel="noopener">{{ .name }}</a>{{ else }}{{ .name }}{{ end }}</h4>
            <p>{{ .description }}</p>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
    {{ end }}

  </div>
</section>

<!-- Location -->
<section class="location-section" id="ubicacion">
  <div class="container">
    <div class="section-header">
      <h2>{{ i18n "location_title" }}</h2>
      <p class="section-subtitle">{{ i18n "location_subtitle" }}</p>
    </div>
    <div class="location-map">
      <iframe src="https://maps.google.com/maps?q=-34.59558,-54.130128&z=15&t=k&output=embed" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </div>
</section>

{{ end }}
